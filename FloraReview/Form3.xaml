<Window x:Class="FloraReview.Form3"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Row Editor" MinWidth="1000" MinHeight="550" Height="900"
        Style="{StaticResource MaterialDesignWindow}">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="110" />
            <RowDefinition Height="30" />
            <RowDefinition Height="*" MinHeight="50" />
            <RowDefinition Height="5" />
            <RowDefinition Height="*" MinHeight="50" />
            <RowDefinition Height="5" />
            <RowDefinition Height="*" MinHeight="50" />
            <RowDefinition Height="50"/>
            <RowDefinition MinHeight="30" MaxHeight="30" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="0" Margin="0,5,0,10">
            <TextBlock Name="rowIdTextBlock" FontSize="12" FontWeight="Bold" Margin="0,5,0,0" />
            <TextBlock Name="guidTextBlock" FontSize="12" FontWeight="Bold" Margin="0,5,0,0" />
            <TextBlock Name="textTypeTextBlock" FontSize="12" FontWeight="Bold" Margin="0,5,0,0" />
            <TextBlock Name="scientificNameTextBlock" FontSize="12" FontWeight="Bold" Margin="0,5,0,5"/>
        </StackPanel>


        <TextBox Name="logTextBox" FontSize="12" FontWeight="Bold" IsReadOnly="True" VerticalScrollBarVisibility="Auto"
                     Grid.Row="0" Grid.Column="1" Height="95" Margin="0,0,20,0"
                     TextWrapping="Wrap" AllowDrop="False" Focusable="False" IsTabStop="False" ToolTip="Comments Log" />

        <StackPanel Grid.Row="0" Grid.Column="2" Margin="0,5,0,10" Orientation="Horizontal">
            <Label x:Name="SelectedRowLabel" Content="Row 1 of 1" FontSize="12" FontWeight="SemiBold" Margin="0,5,0,0" VerticalAlignment="Center"/>


            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="10,0,0,0" >
                <Button x:Name="BackButton"
                Style="{StaticResource MaterialDesignIconButton}" Click="Back_Click"
                ToolTip="Previous" HorizontalAlignment="Left" Margin="5,0,0,0">
                    <materialDesign:PackIcon Kind="ChevronLeft" />
                </Button>
                <Button Name="ForwardButton"
                Style="{StaticResource MaterialDesignIconButton}"   Click="Forward_Click"
                ToolTip="Next" HorizontalAlignment="Left" >
                    <materialDesign:PackIcon Kind="ChevronRight" />
                </Button>
            </StackPanel>
        </StackPanel>

        <TextBlock Grid.Row="1" Grid.ColumnSpan="3"
            Text="Original Text (The original text from TaxonText, or the translated text.):" FontSize="12" FontWeight="SemiBold" Margin="0,5,0,5" />

        <DockPanel Grid.Row="2" Grid.ColumnSpan="3" >
            <TextBox Name="originalTextBox" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                Background="WhiteSmoke"  MouseWheel="modifiedRichTextBox_MouseWheel" Focusable="False" IsTabStop="False"/>
        </DockPanel>

        <GridSplitter x:Name="gridSplitter" Grid.Row="3" Height="5" ResizeBehavior="PreviousAndNext" HorizontalAlignment="Stretch"  Grid.ColumnSpan="3" VerticalContentAlignment="Center"/>

        <Grid Grid.Row="4" Grid.ColumnSpan="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="50" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Row="0" Grid.Column="0"
            Text="Diff Text (The difference between original- and modified-text.):" FontSize="12" FontWeight="SemiBold" Margin="0,10,0,5" HorizontalAlignment="Left" Padding="0,0,5,0" VerticalAlignment="Bottom"  />



            <Button  Grid.Row="0" Grid.Column="1"
                Style="{StaticResource MaterialDesignIconButton}"
                ToolTip="Refresh Diff Text" HorizontalAlignment="Right" Margin="10,0,0,0">
                <materialDesign:PackIcon Kind="Refresh" />
            </Button>


            <RichTextBox Name="diffRichTextBox" 
               Grid.Row="1" Grid.ColumnSpan="3"
               MinHeight="50" 
               IsReadOnly="True" VerticalScrollBarVisibility="Auto"
               Background="WhiteSmoke"  AllowDrop="False"  IsTabStop="True" MouseWheel="modifiedRichTextBox_MouseWheel" VerticalContentAlignment="Top" ScrollViewer.CanContentScroll="True" IsEnabled="True" 
                         >
                <RichTextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Command="ApplicationCommands.SelectAll" />
                        <MenuItem Command="ApplicationCommands.Copy" />
                    </ContextMenu>
                </RichTextBox.ContextMenu>
            </RichTextBox>
        </Grid>

        <GridSplitter Grid.Row="5" Height="5" ResizeBehavior="PreviousAndNext" HorizontalAlignment="Stretch"  Grid.ColumnSpan="3" VerticalContentAlignment="Center"/>

        <Grid Grid.Row="6" Grid.ColumnSpan="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Row="0" Grid.ColumnSpan="3"
                Text="Modified Text (The text as edited by Gemini AI or the saved text. You can edit this text if it is OPEN.):" FontSize="12" FontWeight="SemiBold" Margin="0,10,0,5" />
            <RichTextBox 
                Grid.Row="1" Grid.ColumnSpan="3"    
                Name="modifiedRichTextBox" MinHeight="100" VerticalScrollBarVisibility="Auto"
                SpellCheck.IsEnabled="True"
                MouseWheel="modifiedRichTextBox_MouseWheel" TextChanged="modifiedRichTextBox_TextChanged" VerticalContentAlignment="Top" ScrollViewer.CanContentScroll="True"  >
                <RichTextBox.CommandBindings>
                    <CommandBinding Command="ApplicationCommands.Find" Executed="FindCommand_Executed" />
                </RichTextBox.CommandBindings>
                <RichTextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Command="ApplicationCommands.SelectAll" />
                        <MenuItem Command="ApplicationCommands.Cut" />
                        <MenuItem Command="ApplicationCommands.Copy" />
                        <MenuItem Command="ApplicationCommands.Paste" />
                        <MenuItem Command="ApplicationCommands.Undo" />
                        <MenuItem Command="ApplicationCommands.Redo" />
                        <MenuItem Command="ApplicationCommands.Find" Header="Find"/>
                        <Separator/>
                        <MenuItem Header="Increase Fontsize" Click="IncreaseFontSize_Click">
                            <MenuItem.Icon>
                                <materialDesign:PackIcon Kind="Plus" Width="16" Height="16"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="Decrease Fontsize" Click="DecreaseFontSize_Click">
                            <MenuItem.Icon>
                                <materialDesign:PackIcon Kind="Minus" Width="16" Height="16"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </ContextMenu>
                </RichTextBox.ContextMenu>
            </RichTextBox>
        </Grid>


        <StackPanel Grid.Row ="7" Grid.Column="0"  HorizontalAlignment="Left" Grid.ColumnSpan="2" Orientation="Horizontal">
            <Button x:Name="UndoButton"  Click="Undo_Click" ToolTip="Undo changes">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Undo" Margin="0,0,5,0"/>
                    <TextBlock Text="Undo" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Button x:Name="RevertButton" Click="Revert_Click" ToolTip="Revert to original text" Margin="5,0,0,0">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Restore" Margin="0,0,5,0"/>
                    <TextBlock Text="Revert" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button x:Name="ApproveButton"  Click="Approve_Click"  ToolTip="Approve and close" Margin="5,0,0,0">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Approve" Margin="0,0,5,0"/>
                    <TextBlock Text="Approve" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button x:Name="ReOpenButton"   Click="ReOpen_Click"  ToolTip="Re-open closed" Margin="5,0,0,0" >
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="OpenInApp"  Margin="0,0,5,0"/>
                    <TextBlock Text="Re-open" VerticalAlignment="Center" IsEnabled="False"/>
                </StackPanel>
            </Button>
            <Button x:Name="DiscardButton"   Click="Discard_Click" ToolTip="Load AI modified text" Margin="5,0,0,0" >
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Dislike"  Margin="0,0,5,0"/>
                    <TextBlock Text="Discard" VerticalAlignment="Center" IsEnabled="False"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <StackPanel Grid.Row ="7" Grid.Column="2" HorizontalAlignment="Right" Orientation="Horizontal">
            <Button x:Name="SaveButton"  Click="Save_Click"  ToolTip="Save text">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="ContentSave" Margin="0,0,5,0"/>
                    <TextBlock Text="Save" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button x:Name="CloseButton" Click="Close_Click"  ToolTip="Close window" Margin="5,0,0,0" >
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Close"  Margin="0,0,5,0"/>
                    <TextBlock Text="Close" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <Border Grid.Row="8" Grid.ColumnSpan="3" Margin="0,5,0,0">
            <Border.Background>
                <SolidColorBrush Color="{DynamicResource {x:Static SystemColors.InfoColorKey}}"/>
            </Border.Background>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Label x:Name="InfoLabel" Grid.Column="0" HorizontalAlignment="Left" Content="Review data."/>
                <Label x:Name="StatusLabel" Grid.Column="2" HorizontalAlignment="Right" Content="OPEN"/>
            </Grid>
        </Border>
    </Grid>
</Window>

